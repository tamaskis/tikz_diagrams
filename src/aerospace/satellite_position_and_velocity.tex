% ---------
% Preamble.
% ---------

% Document type.
\documentclass{article}

% Import custom style.
\usepackage{../.preamble/tikz_diagrams_template}

% Color theme (black, red, blue, green, orange, purple, gold).
\colortheme{blue}

% ---------
% Document.
% ---------

\begin{document}

    % -----------------
    % TikZ environment.
    % -----------------

    \begin{tikzpicture}
        
        % central body
        \draw[fill=gray!20!white](0,0)circle(2)node[below,yshift=-10]{\textit{central body}};

        % axes
        \draw(0,0)--(5,0)node[right]{$P$};
        \draw(0,0)--(0,5)node[above]{$Q$};

        % Position vector.
        \draw[-mylatex',thick,color_theme](0,0)--(2.93,2.93)node[pos=0.55,above,yshift=1]{$\boldsymbol{r}$};
        
        % center of central body
        \draw[fill=black](0,0)circle(0.075);

        % local vertical
        \draw[dotted,thick](3,3)--(5,5)node[pos=0.5,below,rotate=45]{local vertical};
        
        % local horizontal
        \draw[dotted,thick](5,1)--(1,5)node[pos=0.25,below,rotate=-45]{local horizontal};

        % velocity vector
        \draw[-mylatex',thick,color_theme](3,3)--(2.5,5)node[pos=1,above]{$\boldsymbol{v}$};
        
        % Satellite position.
        \draw[fill=shade_color](3,3)circle(0.1);

        % PQW frame
        \draw[-mylatex',thick](0,0)--(2.5,0)node[pos=0.95,yshift=-8]{$\boldsymbol{\hat{P}}$};
        \draw[-mylatex',thick](0,0)--(0,2.5)node[pos=1,xshift=6]{$\boldsymbol{\hat{Q}}$};

        % true anomaly
        \tdplotdrawarc[-mylatex',dotted,thick]{(0,0)}{3}{0}{45}{right}{$\nu$};
        
    \end{tikzpicture}

\end{document}